# 아이템 1 - 생성자 대신 정적 팩토리 메서드를 고려하라

### 장점
- 이름을 가질 수 있다
    - 메서드 이름을 통해 어떤 객체가 반환될지 쉽게 묘사 가능
    - 시그니처가 같은 메서드를 여러개 만들 수 있음(생성자는 시그니처 같은 거 못만듬)
- 호출될 때마다 인스턴스를 새로 생성하지 않아도 된다
    - 불변클래스인 경우 인스턴스를 캐싱할 수 있음
    - 생성비용이 큰 객체가 자주 요청될 때 캐싱하여 성능향상 - 플라이웨이트 패턴과 연관있음
    - 인스턴스를 통제할 수 있다
        - 인스턴스 통제 클래스: 언제 어느 객체를 살아있게 할지를 통제?
        - 클래스를 싱글턴으로 하거나, 인스턴스화 불가로 만들 수도 있음
- 반환타입의 하위타입 객체를 반환할 수 있다
    - 반환할 객체의 클래스를 자유롭게 선택 - 엄청난 유연성
    - 인터페이스 기반 프레임워크의 핵심 기술
        - 인터페이스를 정.팩.메의 반환타입으로 사용
    - 자바 컬렉션 프레임워크는 45개의 유틸리티 구현체를 `Collections` 클래스를 통해 제공
    - 자바 8부터는 인터페이스에 정적 메서드 선언가능
- 입력 매개변수에 따라 다른 클래스의 객체를 반환할 수 있다
- 정적 팩토리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다
    - 서비스 제공자 프레임워크의 근간 - 대표적인 서비스 제공자 프레임워크: JDBC
    - 서.제.프 3가지 핵심 컴포넌트: 서비스 인터페이스, 제공자 등록 API, 서비스 접근 API
        - 서비스 인터페이스: 구현체의 동작을 정의
        - 제공자 등록 API: 제공자가 구현체를 등록할 때 사용
        - 서비스 접근 API: 클라이언트가 서비스의 인스턴스를 얻을 때 사용
    - 서비스 접근 API가 바로 서비스 인터페이스를 반환타입으로 하는 정.팩.메다. 서비스 접근 API를 사용하면 기본 구현체를 반환하거나, 지원하는 구현체들을 제공한다. 실제로 반환되는 클래스는 서비스 접근 API가 작성된 후에 작성된 걸 수도 있다. 후에 클래스 작성 후 제공자 등록 API로 등록해주면 된다.
    - 서비스 제공자 인터페이스: 서비스 인터페이스의 인스턴스를 생성하는 팩터리 객체를 설명해줌
        - 이게 없으면 등록된 구현체를 인스턴스화 할 때 리플렉션 사용해야함
        - JDBC에서의 역할 수행 - Connection:서비스 인터페이스, DriverManager.registerDriver:제공자 등록 API, Driver:서비스 제공자 인터페이스
    - 자바5부턴 `java.util.ServiceLoader`라는 범용 서비스 제공자 프레임워크가 제공되어서 편리하게 서비스 제공자 프레임워크 작성가능

### 단점
- 정.팩.메만 제공하면 상속이 불가 - public,protected 생성자 제공안하면 상속불가
- 정.팩.메는 프로그래머가 찾기 어렵다
    - API 문서 잘 써놓고 메서드 이름을 규약에 맞춰서 지으면 조금은 괜찮아짐

### 정.팩.메 메서드 명명방식
- from: 매개변수 하나 받아서 해당 타입 인스턴스 반환. 형변환 메서드.
- of: 여러 매개변수 받아서 적합한 타입의 인스턴스 반환. 집계 메서드.
- valueOf: from,of의 더 자세한 버전
- instance/getInstance: 매개변수로 명시한 인스턴스 반환. 같은 인스턴스임을 보장하진 않음.
- create/newInstance: instance/getInstance와 같지만, 매번 새로운 인스턴스 반환.
- getType: getInstance와 같지만, 다른 클래스에 정.팩.메 선언시 사용. "Type"은 반환하는 타입으로 치환해서 사용.
    - 예) `FileStrore fs = Files.getFileStrore(path);`
- newType: newInstance와 같지만, 다른 클래스에 정.팩.메 선언시 사용. "Type"은 반환하는 타입으로 치환해서 사용.
    - 예) `BufferedReader br = Files.newBufferedReader(path);`
- type: getType,newType의 간결한 버전
