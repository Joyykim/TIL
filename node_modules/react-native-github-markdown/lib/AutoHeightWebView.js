var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNativeWebview=_interopRequireDefault(require("react-native-webview"));var _this=this,_jsxFileName="/Users/rying/code/react-native-github-markdown/src/AutoHeightWebView.tsx";var injectedScript="\n  function waitForBridge() {\n    if (!window.ReactNativeWebView.postMessage) {\n      setTimeout(waitForBridge, 200);\n    } else {\n      window.ReactNativeWebView.postMessage(\n        Math.max(\n          document.documentElement.clientHeight,\n          document.documentElement.scrollHeight,\n          document.body.clientHeight,\n          document.body.scrollHeight\n        )\n      );\n    }\n  }\n  waitForBridge();\n  true;\n";var _default=_react.default.forwardRef(function(props,ref){var defaultHeight=props.defaultHeight,restProps=(0,_objectWithoutProperties2.default)(props,["defaultHeight"]);var _useState=(0,_react.useState)(defaultHeight||500),_useState2=(0,_slicedToArray2.default)(_useState,2),height=_useState2[0],setHeight=_useState2[1];var onMessage=function onMessage(e){setHeight(parseInt(e.nativeEvent.data,10));};return _react.default.createElement(_reactNativeWebview.default,(0,_extends2.default)({ref:ref,injectedJavaScript:injectedScript,onMessage:onMessage,javaScriptEnabled:true,decelerationRate:"normal"},restProps,{style:[{height:height},props.style],__self:_this,__source:{fileName:_jsxFileName,lineNumber:39,columnNumber:7}}));});exports.default=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9BdXRvSGVpZ2h0V2ViVmlldy50c3giXSwibmFtZXMiOlsiaW5qZWN0ZWRTY3JpcHQiLCJSZWFjdCIsImZvcndhcmRSZWYiLCJwcm9wcyIsInJlZiIsImRlZmF1bHRIZWlnaHQiLCJyZXN0UHJvcHMiLCJoZWlnaHQiLCJzZXRIZWlnaHQiLCJvbk1lc3NhZ2UiLCJlIiwicGFyc2VJbnQiLCJuYXRpdmVFdmVudCIsImRhdGEiLCJzdHlsZSJdLCJtYXBwaW5ncyI6Im9oQkFBQSxxREFDQSxnRix1R0FHQSxHQUFNQSxDQUFBQSxjQUFjLDJiQUFwQixDLGFBdUJlQyxlQUFNQyxVQUFOLENBQ2IsU0FBQ0MsS0FBRCxDQUFRQyxHQUFSLENBQWdCLElBQ1BDLENBQUFBLGFBRE8sQ0FDd0JGLEtBRHhCLENBQ1BFLGFBRE8sQ0FDV0MsU0FEWCx1Q0FDd0JILEtBRHhCLGtDQUdjLG9CQUFTRSxhQUFhLEVBQUksR0FBMUIsQ0FIZCxxREFHUEUsTUFITyxlQUdDQyxTQUhELGVBS2QsR0FBTUMsQ0FBQUEsU0FBUyxDQUFHLFFBQVpBLENBQUFBLFNBQVksQ0FBQ0MsQ0FBRCxDQUE0QixDQUM1Q0YsU0FBUyxDQUFDRyxRQUFRLENBQUNELENBQUMsQ0FBQ0UsV0FBRixDQUFjQyxJQUFmLENBQXFCLEVBQXJCLENBQVQsQ0FBVCxDQUNELENBRkQsQ0FJQSxNQUNFLDhCQUFDLDJCQUFELHdCQUNFLEdBQUcsQ0FBRVQsR0FEUCxDQUVFLGtCQUFrQixDQUFFSixjQUZ0QixDQUdFLFNBQVMsQ0FBRVMsU0FIYixDQUlFLGlCQUFpQixDQUFFLElBSnJCLENBS0UsZ0JBQWdCLENBQUMsUUFMbkIsRUFNTUgsU0FOTixFQU9FLEtBQUssQ0FBRSxDQUFDLENBQUNDLE1BQU0sQ0FBTkEsTUFBRCxDQUFELENBQVdKLEtBQUssQ0FBQ1csS0FBakIsQ0FQVCw4RUFERixDQVdELENBckJZLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZX0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFdlYlZpZXcsIHtXZWJWaWV3UHJvcHN9IGZyb20gJ3JlYWN0LW5hdGl2ZS13ZWJ2aWV3JztcbmltcG9ydCB7V2ViVmlld01lc3NhZ2VFdmVudH0gZnJvbSAncmVhY3QtbmF0aXZlLXdlYnZpZXcvbGliL1dlYlZpZXdUeXBlcyc7XG5cbmNvbnN0IGluamVjdGVkU2NyaXB0ID0gYFxuICBmdW5jdGlvbiB3YWl0Rm9yQnJpZGdlKCkge1xuICAgIGlmICghd2luZG93LlJlYWN0TmF0aXZlV2ViVmlldy5wb3N0TWVzc2FnZSkge1xuICAgICAgc2V0VGltZW91dCh3YWl0Rm9yQnJpZGdlLCAyMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuUmVhY3ROYXRpdmVXZWJWaWV3LnBvc3RNZXNzYWdlKFxuICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHRcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgd2FpdEZvckJyaWRnZSgpO1xuICB0cnVlO1xuYDtcblxuZXhwb3J0IGludGVyZmFjZSBBdXRvSGVpZ2h0V2ViVmlld1Byb3BzIGV4dGVuZHMgV2ViVmlld1Byb3BzIHtcbiAgZGVmYXVsdEhlaWdodD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QuZm9yd2FyZFJlZjxXZWJWaWV3LCBBdXRvSGVpZ2h0V2ViVmlld1Byb3BzPihcbiAgKHByb3BzLCByZWYpID0+IHtcbiAgICBjb25zdCB7ZGVmYXVsdEhlaWdodCwgLi4ucmVzdFByb3BzfSA9IHByb3BzO1xuXG4gICAgY29uc3QgW2hlaWdodCwgc2V0SGVpZ2h0XSA9IHVzZVN0YXRlKGRlZmF1bHRIZWlnaHQgfHwgNTAwKTtcblxuICAgIGNvbnN0IG9uTWVzc2FnZSA9IChlOiBXZWJWaWV3TWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgICBzZXRIZWlnaHQocGFyc2VJbnQoZS5uYXRpdmVFdmVudC5kYXRhLCAxMCkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFdlYlZpZXdcbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIGluamVjdGVkSmF2YVNjcmlwdD17aW5qZWN0ZWRTY3JpcHR9XG4gICAgICAgIG9uTWVzc2FnZT17b25NZXNzYWdlfVxuICAgICAgICBqYXZhU2NyaXB0RW5hYmxlZD17dHJ1ZX1cbiAgICAgICAgZGVjZWxlcmF0aW9uUmF0ZT1cIm5vcm1hbFwiXG4gICAgICAgIHsuLi5yZXN0UHJvcHN9XG4gICAgICAgIHN0eWxlPXtbe2hlaWdodH0sIHByb3BzLnN0eWxlXX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSxcbik7XG4iXX0=