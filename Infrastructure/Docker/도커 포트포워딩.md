# 도커 기본

### -p (포트 포워딩)
컨테이너와 호스트의 포트를 연결.

도커 컨테이너는 NAT 내부망에서 동작하고 공인IP주소가 아닌 사설IP주소를 사용하기 때문에 컨테이너 외부에서 내부로 접속할 수 없다.
이를 극복하기 위해 포트 포워딩 기법이 사용됨.
> 포트포워딩이란?<br>
라우터/게이트웨이의 특정 포트 번호로 유입되는 트래픽을 NAT 내부에서 동작하는 시스템의 특정 포트로 전달해 주는 기법.<br>
예) 홈서버를 구축할 때, 집 공유기의 80포트로 접속하는 모든 트래픽을 내 PC(사설IP)의 8080포트로 전달하도록 설정 할 수 있음.

다음과 같이 -p 옵션을 사용하여 호스트와 컨테이너의 포트
도커에서 호스트는 도커엔진이 구동중인 물리 컴퓨터(내 PC)이다.
```
$ docker run -p <host port number>:<container port number>/<protocol> [IMAGE NAME] [OTHER OPTIONS...]
```
- 예) `-p 80:8080`으로 실행 시 호스트의 8080포트로 들어오는 트래픽은 모두 tcp프로토콜을 통해 해당 컨테이너의 8080포트로 전달된다.
- `<protocol>`은 tcp, udp 등을 넣을 수 있고 디폴트는 tcp이다.

참고: https://tttsss77.tistory.com/155
